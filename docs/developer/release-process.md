# RoleCraft AI - å‘å¸ƒæµç¨‹

> ç‰ˆæœ¬å‘å¸ƒå’Œéƒ¨ç½²æµç¨‹

---

## ç›®å½•

1. [ç‰ˆæœ¬ç®¡ç†](#1-ç‰ˆæœ¬ç®¡ç†)
2. [å‘å¸ƒå‰å‡†å¤‡](#2-å‘å¸ƒå‰å‡†å¤‡)
3. [å‘å¸ƒæµç¨‹](#3-å‘å¸ƒæµç¨‹)
4. [éƒ¨ç½²æµç¨‹](#4-éƒ¨ç½²æµç¨‹)
5. [å‘å¸ƒåéªŒè¯](#5-å‘å¸ƒåéªŒè¯)
6. [å›æ»šæµç¨‹](#6-å›æ»šæµç¨‹)

---

## 1. ç‰ˆæœ¬ç®¡ç†

### 1.1 ç‰ˆæœ¬å·è§„èŒƒ

éµå¾ª [Semantic Versioning 2.0.0](https://semver.org/)ï¼š

```
MAJOR.MINOR.PATCH
  â”‚     â”‚     â”‚
  â”‚     â”‚     â””â”€ Bug ä¿®å¤ï¼ˆå‘åå…¼å®¹ï¼‰
  â”‚     â””â”€â”€â”€â”€â”€â”€â”€ æ–°åŠŸèƒ½ï¼ˆå‘åå…¼å®¹ï¼‰
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ä¸å…¼å®¹çš„ API å˜æ›´
```

**ç¤ºä¾‹ï¼š**
- `1.0.0` - é¦–ä¸ªç¨³å®šç‰ˆæœ¬
- `1.1.0` - æ·»åŠ æ–°åŠŸèƒ½
- `1.1.1` - Bug ä¿®å¤
- `2.0.0` - ä¸å…¼å®¹å˜æ›´

### 1.2 ç‰ˆæœ¬å‘½å

**æ­£å¼ç‰ˆæœ¬ï¼š**
```
v1.0.0
v1.1.0
v2.0.0
```

**é¢„å‘å¸ƒç‰ˆæœ¬ï¼š**
```
v1.0.0-alpha.1    # å†…éƒ¨æµ‹è¯•
v1.0.0-beta.1     # å…¬å¼€æµ‹è¯•
v1.0.0-rc.1       # å€™é€‰ç‰ˆæœ¬
```

---

## 2. å‘å¸ƒå‰å‡†å¤‡

### 2.1 æ£€æŸ¥æ¸…å•

**ä»£ç è´¨é‡ï¼š**
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆå•å…ƒã€E2Eï¼‰
- [ ] ä»£ç å®¡æŸ¥å®Œæˆ
- [ ] æ— å·²çŸ¥ Bug
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡

**æ–‡æ¡£ï¼š**
- [ ] CHANGELOG.md å·²æ›´æ–°
- [ ] README.md å·²æ›´æ–°
- [ ] API æ–‡æ¡£å·²æ›´æ–°
- [ ] ç”¨æˆ·æ–‡æ¡£å·²æ›´æ–°

**åŸºç¡€è®¾æ–½ï¼š**
- [ ] CI/CD æµæ°´çº¿æ­£å¸¸
- [ ] ç›‘æ§å‘Šè­¦é…ç½®
- [ ] å¤‡ä»½ç­–ç•¥å°±ç»ª
- [ ] å›æ»šæ–¹æ¡ˆå‡†å¤‡

### 2.2 æµ‹è¯•éªŒè¯

**è‡ªåŠ¨åŒ–æµ‹è¯•ï¼š**
```bash
# åç«¯æµ‹è¯•
cd backend
go test ./... -cover

# å‰ç«¯æµ‹è¯•
cd frontend
npm test
npx playwright test

# æ€§èƒ½æµ‹è¯•
./scripts/performance-test.sh
```

**æ‰‹åŠ¨æµ‹è¯•ï¼š**
- æ ¸å¿ƒåŠŸèƒ½æµç¨‹
- è¾¹ç•Œæ¡ä»¶
- å…¼å®¹æ€§æµ‹è¯•
- ç”¨æˆ·ä½“éªŒ

### 2.3 æ›´æ–°ç‰ˆæœ¬å·

**åç«¯ (version.go)ï¼š**
```go
const Version = "1.0.0"
```

**å‰ç«¯ (package.json)ï¼š**
```json
{
  "name": "rolecraft-ai",
  "version": "1.0.0"
}
```

---

## 3. å‘å¸ƒæµç¨‹

### 3.1 åˆ›å»º Release åˆ†æ”¯

```bash
# ä» develop åˆ›å»º
git checkout -b release/v1.0.0 develop

# æ›´æ–°ç‰ˆæœ¬å·
# ç¼–è¾‘ version.go, package.json

# æ›´æ–° CHANGELOG
# æ·»åŠ ç‰ˆæœ¬æ›´æ–°è¯´æ˜

# æäº¤
git add .
git commit -m "chore: release version 1.0.0"
```

### 3.2 æœ€ç»ˆæµ‹è¯•

```bash
# åœ¨ release åˆ†æ”¯ä¸Šè¿è¡Œå®Œæ•´æµ‹è¯•
./tests/run_all_tests.sh

# éªŒè¯æ„å»º
make build

# éƒ¨ç½²åˆ° staging ç¯å¢ƒ
./scripts/deploy-staging.sh
```

### 3.3 åˆå¹¶åˆ° Main

```bash
# åˆå¹¶åˆ° main
git checkout main
git merge --no-ff release/v1.0.0

# æ‰“æ ‡ç­¾
git tag -a v1.0.0 -m "Release version 1.0.0"

# åˆå¹¶å› develop
git checkout develop
git merge --no-ff release/v1.0.0

# åˆ é™¤ release åˆ†æ”¯
git branch -d release/v1.0.0

# æ¨é€
git push origin main develop --tags
```

### 3.4 åˆ›å»º GitHub Release

1. è®¿é—® GitHub Releases
2. ç‚¹å‡» "Create a new release"
3. é€‰æ‹©æ ‡ç­¾ `v1.0.0`
4. å¡«å†™å‘å¸ƒè¯´æ˜
5. æ·»åŠ é™„ä»¶ï¼ˆå¯é€‰ï¼‰
6. å‘å¸ƒ

**å‘å¸ƒè¯´æ˜æ¨¡æ¿ï¼š**
```markdown
## æ–°åŠŸèƒ½
- åŠŸèƒ½ 1 è¯´æ˜
- åŠŸèƒ½ 2 è¯´æ˜

## æ”¹è¿›
- æ”¹è¿› 1 è¯´æ˜
- æ”¹è¿› 2 è¯´æ˜

## Bug ä¿®å¤
- ä¿®å¤é—®é¢˜ #123
- ä¿®å¤é—®é¢˜ #456

## å‡çº§è¯´æ˜
[å‡çº§æ­¥éª¤å’Œæ³¨æ„äº‹é¡¹]

## è´¡çŒ®è€…
@contributor1, @contributor2
```

---

## 4. éƒ¨ç½²æµç¨‹

### 4.1 ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

**è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼ˆæ¨èï¼‰ï¼š**
```bash
# CI/CD è‡ªåŠ¨è§¦å‘
# GitHub Actions â†’ æ„å»º â†’ éƒ¨ç½²
```

**æ‰‹åŠ¨éƒ¨ç½²ï¼š**
```bash
# 1. æ‹‰å–æœ€æ–°ä»£ç 
git checkout main
git pull origin main

# 2. æ„å»º
make build

# 3. éƒ¨ç½²
./scripts/deploy-production.sh

# 4. è¿è¡Œè¿ç§»
./scripts/run-migrations.sh
```

### 4.2 Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t rolecraft-ai:v1.0.0 .

# æ¨é€é•œåƒ
docker push rolecraft-ai:v1.0.0

# æ›´æ–°æœåŠ¡
docker-compose pull
docker-compose up -d
```

### 4.3 ç°åº¦å‘å¸ƒ

**ç­–ç•¥ï¼š**
1. éƒ¨ç½²åˆ° 10% æœåŠ¡å™¨
2. ç›‘æ§æŒ‡æ ‡ 30 åˆ†é’Ÿ
3. æ— é—®é¢˜ â†’ 50%
4. ç›‘æ§ 1 å°æ—¶
5. æ— é—®é¢˜ â†’ 100%

**ç›‘æ§æŒ‡æ ‡ï¼š**
- é”™è¯¯ç‡ < 0.1%
- å“åº”æ—¶é—´ < 200ms
- CPU ä½¿ç”¨ç‡ < 70%
- å†…å­˜ä½¿ç”¨ç‡ < 80%

---

## 5. å‘å¸ƒåéªŒè¯

### 5.1 å¥åº·æ£€æŸ¥

```bash
# API å¥åº·æ£€æŸ¥
curl https://api.rolecraft.ai/health

# å‰ç«¯æ£€æŸ¥
curl https://rolecraft.ai

# åŠŸèƒ½éªŒè¯
./scripts/smoke-test.sh
```

### 5.2 ç›‘æ§å‘Šè­¦

**æ£€æŸ¥é¡¹ï¼š**
- é”™è¯¯æ—¥å¿—
- æ€§èƒ½æŒ‡æ ‡
- ç”¨æˆ·åé¦ˆ
- ç³»ç»Ÿèµ„æº

**ç›‘æ§å·¥å…·ï¼š**
- Prometheus + Grafana
- ELK Stackï¼ˆæ—¥å¿—ï¼‰
- Sentryï¼ˆé”™è¯¯è¿½è¸ªï¼‰

### 5.3 ç”¨æˆ·é€šçŸ¥

**é€šçŸ¥æ¸ é“ï¼š**
- åº”ç”¨å†…é€šçŸ¥
- é‚®ä»¶é€šçŸ¥
- ç¤¾ç¾¤å…¬å‘Š
- åšå®¢æ–‡ç« 

**é€šçŸ¥æ¨¡æ¿ï¼š**
```markdown
## RoleCraft AI v1.0.0 å‘å¸ƒ

äº²çˆ±çš„ç”¨æˆ·ï¼Œ

æˆ‘ä»¬å¾ˆé«˜å…´åœ°å®£å¸ƒ RoleCraft AI v1.0.0 æ­£å¼å‘å¸ƒï¼

### æ–°åŠŸèƒ½
- åŠŸèƒ½ 1
- åŠŸèƒ½ 2

### æ”¹è¿›
- æ”¹è¿› 1

ç«‹å³ä½“éªŒï¼šhttps://rolecraft.ai

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³» support@rolecraft.ai
```

---

## 6. å›æ»šæµç¨‹

### 6.1 å›æ»šæ¡ä»¶

**ç«‹å³å›æ»šï¼š**
- ä¸¥é‡ Bug å½±å“æ ¸å¿ƒåŠŸèƒ½
- é”™è¯¯ç‡ > 5%
- æ€§èƒ½ä¸¥é‡ä¸‹é™
- æ•°æ®å®‰å…¨é—®é¢˜

### 6.2 å›æ»šæ­¥éª¤

```bash
# 1. åœæ­¢éƒ¨ç½²
kubectl rollout pause deployment/rolecraft-ai

# 2. å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬
kubectl rollout undo deployment/rolecraft-ai

# æˆ–ä½¿ç”¨ Docker
docker-compose down
docker-compose up -d rolecraft-ai:v0.9.0

# 3. éªŒè¯å›æ»š
./scripts/smoke-test.sh

# 4. é€šçŸ¥å›¢é˜Ÿ
# Slack/é‚®ä»¶é€šçŸ¥å›æ»šå®Œæˆ
```

### 6.3 å›æ»šåå¤„ç†

1. **é—®é¢˜åˆ†æ**
   - å®šä½é—®é¢˜åŸå› 
   - è¯„ä¼°å½±å“èŒƒå›´

2. **ä¿®å¤éªŒè¯**
   - å¼€å‘ä¿®å¤
   - å……åˆ†æµ‹è¯•
   - é‡æ–°å‘å¸ƒ

3. **æ€»ç»“æ”¹è¿›**
   - äº‹ååˆ†æï¼ˆPost-mortemï¼‰
   - æ”¹è¿›æµç¨‹
   - æ›´æ–°æ–‡æ¡£

---

## 7. è‡ªåŠ¨åŒ–è„šæœ¬

### 7.1 å‘å¸ƒè„šæœ¬

**scripts/release.sh:**
```bash
#!/bin/bash

VERSION=$1

if [ -z "$VERSION" ]; then
    echo "Usage: ./release.sh <version>"
    exit 1
fi

# æ›´æ–°ç‰ˆæœ¬å·
echo "Updating version to $VERSION"

# è¿è¡Œæµ‹è¯•
echo "Running tests..."
./tests/run_all_tests.sh

# æ„å»º
echo "Building..."
make build

# æ‰“æ ‡ç­¾
git tag -a v$VERSION -m "Release v$VERSION"

# æ¨é€
git push origin main --tags

echo "Release v$VERSION completed!"
```

### 7.2 éƒ¨ç½²è„šæœ¬

**scripts/deploy.sh:**
```bash
#!/bin/bash

ENV=$1

if [ "$ENV" == "production" ]; then
    # ç”Ÿäº§éƒ¨ç½²
    kubectl apply -f k8s/production/
elif [ "$ENV" == "staging" ]; then
    # é¢„å‘å¸ƒéƒ¨ç½²
    kubectl apply -f k8s/staging/
fi

# å¥åº·æ£€æŸ¥
sleep 30
./scripts/health-check.sh
```

---

## 8. å‘å¸ƒæ—¥å†

### 8.1 å‘å¸ƒå‘¨æœŸ

**å¸¸è§„å‘å¸ƒï¼š**
- æ¯ 2 å‘¨ä¸€æ¬¡å°ç‰ˆæœ¬
- æ¯æœˆä¸€æ¬¡å¤§ç‰ˆæœ¬
- ç´§æ€¥ Bug éšæ—¶ä¿®å¤

**å‘å¸ƒæ—¶é—´ï¼š**
- å‘¨äºŒæˆ–å‘¨å››
- ä¸Šåˆ 10:00-12:00ï¼ˆæœ‰é—®é¢˜å¯åŠæ—¶å¤„ç†ï¼‰
- é¿å…å‘¨äº”å’ŒèŠ‚å‡æ—¥å‘å¸ƒ

### 8.2 å‘å¸ƒè®¡åˆ’

**ç¤ºä¾‹ï¼š**
```
2026-03 å‘å¸ƒè®¡åˆ’

Week 1 (03/02): v1.1.0
- æ–°åŠŸèƒ½ï¼šçŸ¥è¯†åº“æœç´¢ä¼˜åŒ–
- æ”¹è¿›ï¼šå¯¹è¯å“åº”é€Ÿåº¦

Week 3 (03/16): v1.2.0
- æ–°åŠŸèƒ½ï¼šAPI é€Ÿç‡é™åˆ¶
- æ”¹è¿›ï¼šé”™è¯¯å¤„ç†

Week 5 (03/30): v1.3.0
- æ–°åŠŸèƒ½ï¼šå›¢é˜Ÿåä½œ
- æ”¹è¿›ï¼šUI/UX
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Git å·¥ä½œæµ](./git-workflow.md)
- [ä»£ç é£æ ¼æŒ‡å—](./code-style.md)
- [è´¡çŒ®æŒ‡å—](./contributing.md)

---

*æœ€åæ›´æ–°ï¼š2026-02-27*
