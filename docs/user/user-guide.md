# RoleCraft AI - 功能使用手册

> 完整的功能说明与使用指南

---

## 目录

1. [首页仪表板](#1-首页仪表板)
2. [角色中心](#2-角色中心)
3. [对话系统](#3-对话系统)
4. [知识库管理](#4-知识库管理)
5. [API 平台](#5--api-平台)
6. [设置与配置](#6-设置与配置)

---

## 1. 首页仪表板

### 1.1 概览

首页是你的 RoleCraft AI 控制中心，提供快速访问和状态总览。

### 1.2 功能模块

#### 📊 统计卡片

显示关键使用指标：

- **角色数量** - 你创建和收藏的角色总数
- **文档数量** - 知识库中的文档总数
- **对话次数** - 历史对话总次数
- **本月用量** - API 调用次数统计

#### 🎭 最近使用角色

快速访问你最近使用的 3-5 个角色：

- 点击角色卡片直接进入对话
- 鼠标悬停显示快捷操作（编辑、删除、分享）
- 支持拖拽排序

#### 💬 最近对话列表

继续未完成的对话：

- 显示最近 10 条对话会话
- 展示对话标题和最后一条消息预览
- 显示对话时间（刚刚、1 小时前、昨天等）
- 支持搜索历史对话

#### ⭐ 推荐角色

根据使用习惯推荐角色：

- 内置热门角色模板
- 基于你的使用场景推荐
- 一键使用新角色

### 1.3 快捷操作

- **快速新建对话** - 点击「+ 新对话」按钮
- **快速创建角色** - 点击「创建角色」按钮
- **快速上传文档** - 拖拽文件到上传区域

---

## 2. 角色中心

### 2.1 角色市场

浏览和使用内置角色模板。

#### 分类筛选

按类别筛选角色：

- 全部
- 通用办公
- 营销销售
- 法律咨询
- 财务会计
- 技术支持
- 人力资源
- 产品设计

#### 角色卡片信息

每个角色卡片显示：

- 角色头像/图标
- 角色名称
- 一句话描述
- 分类标签
- 使用次数
- 评分（如有）

#### 角色操作

- **使用** - 立即开始与该角色对话
- **预览** - 查看角色详细信息
- **收藏** - 添加到我的收藏
- **分享** - 生成分享链接

### 2.2 我的角色

管理你创建和收藏的角色。

#### 视图切换

- **列表视图** - 详细信息，适合管理
- **网格视图** - 视觉化展示，适合浏览

#### 角色管理

**编辑角色：**
1. 点击角色卡片上的「编辑」按钮
2. 修改配置信息
3. 点击「保存」更新

**删除角色：**
1. 点击「删除」按钮
2. 确认删除操作
3. 角色将被永久删除（不可恢复）

**克隆角色：**
1. 点击「克隆」按钮
2. 基于现有角色创建新角色
3. 修改配置后保存

### 2.3 角色编辑器

创建和配置自定义角色。

#### 步骤 1：基础信息

- **角色名称** - 必填，2-20 个字符
- **角色描述** - 选填，一句话介绍
- **角色分类** - 选择合适分类
- **角色头像** - 上传或选择图标

#### 步骤 2：提示词配置

**系统提示词（System Prompt）：**

定义角色的核心身份和行为准则。

```markdown
示例：
你是一位经验丰富的营销专家，拥有 10 年数字营销经验。
你擅长制定营销策略、撰写转化文案、分析市场数据。
你的建议总是具体、可执行，并基于最佳实践。
```

**变量支持：**

在提示词中使用变量：

- `{{user_name}}` - 用户名称
- `{{company}}` - 公司名称
- `{{industry}}` - 行业领域
- `{{date}}` - 当前日期

**欢迎语配置：**

用户首次对话时显示的消息。

```markdown
示例：
你好！我是你的营销助手👋

我可以帮助你：
✅ 制定营销策略
✅ 撰写推广文案
✅ 分析竞争对手
✅ 规划内容日历

有什么我可以帮你的吗？
```

#### 步骤 3：模型配置

**选择 AI 模型：**

- GPT-4 - 最强能力，适合复杂任务
- GPT-3.5 - 快速经济，适合日常对话
- Claude - 长文本处理优秀
- 文心一言 - 中文场景优化

**参数设置：**

- **温度（Temperature）** - 0-1，控制随机性
  - 0.0-0.3：确定性强，适合事实性问题
  - 0.4-0.7：平衡，适合一般对话
  - 0.8-1.0：创造性高，适合创意写作

- **最大长度（Max Tokens）** - 单次回复最大长度
  - 500：简短回复
  - 1000：标准回复
  - 2000+：详细回复

- **Top P** - 0-1，控制多样性
  - 建议保持默认值 0.9

#### 步骤 4：技能选择

为角色添加特定技能：

**内置技能：**

- 网络搜索 - 实时搜索互联网信息
- 代码执行 - 运行代码片段
- 文件处理 - 解析上传的文件
- 数据分析 - 处理和分析数据
- 图像识别 - 分析图片内容

**技能配置：**

每个技能可以单独配置：

- 启用/禁用
- 设置优先级
- 配置触发条件

#### 步骤 5：知识绑定

关联知识库文档：

1. 从文档列表中选择
2. 支持多选
3. 设置检索权重

**检索配置：**

- **Top-K** - 返回最相关的 K 个片段（默认 5）
- **相似度阈值** - 最低相似度要求（默认 0.7）
- **启用重排序** - 对检索结果重新排序

#### 步骤 6：测试与发布

**实时预览：**

在编辑器右侧测试角色表现：

- 发送测试消息
- 查看回复质量
- 调整配置后重新测试

**发布角色：**

- **私有** - 仅自己可见
- **团队共享** - 团队成员可用
- **公开** - 所有用户可用（可选）

---

## 3. 对话系统

### 3.1 对话模式

#### 快速问答模式

适合简单、独立的问题：

- 不保留长期上下文
- 响应速度快
- 适合查询类问题

**使用场景：**
- 查询信息
- 简单计算
- 快速翻译
- 事实性问题

#### 任务模式

适合复杂、多轮对话：

- 保留完整上下文（默认 20 条）
- 支持任务分解
- 可标记任务完成

**使用场景：**
- 项目规划
- 文案创作
- 问题分析
- 学习辅导

### 3.2 对话界面

#### 顶部区域

- **角色信息** - 头像、名称、状态
- **模式切换** - 快速问答 / 任务模式
- **设置菜单** - 对话设置、历史记录
- **操作按钮** - 分享、导出、删除

#### 消息区域

**用户消息：**
- 右侧显示
- 支持编辑
- 显示发送时间

**AI 回复：**
- 左侧显示
- 支持 Markdown 格式
- 显示来源引用（如有）
- 操作按钮：
  - 📋 复制
  - 🔄 重新生成
  - 👍 点赞
  - 👎 点踩

#### 输入区域

**输入框功能：**

- 多行文本输入
- 支持 Markdown 语法
- 自动调整高度
- 快捷键支持（Enter 发送，Shift+Enter 换行）

**附件上传：**

- 点击📎按钮
- 支持拖拽上传
- 支持格式：PDF、Word、TXT、图片
- 显示上传进度

**快捷命令：**

输入 `/` 触发命令列表：

| 命令 | 说明 | 示例 |
|------|------|------|
| `/总结` | 总结内容 | `/总结 这篇文章` |
| `/翻译` | 翻译内容 | `/翻译 成英文` |
| `/分析` | 深度分析 | `/分析 这份数据` |
| `/改写` | 改写文案 | `/改写 更正式` |
| `/扩展` | 扩展内容 | `/扩展 这个观点` |
| `/简化` | 简化表达 | `/简化 这段话` |
| `/对比` | 对比分析 | `/对比 A 和 B` |
| `/建议` | 给出建议 | `/建议 如何改进` |

### 3.3 对话管理

#### 保存对话

1. 点击右上角「💾 保存」
2. 输入对话标题
3. 选择分类（可选）
4. 点击保存

#### 继续对话

1. 在首页或对话列表找到对话
2. 点击进入
3. 继续输入消息

#### 导出对话

支持导出格式：

- **Markdown** - 适合阅读和分享
- **PDF** - 适合正式文档
- **TXT** - 纯文本格式
- **JSON** - 结构化数据

**导出步骤：**
1. 点击「⚙️ 设置」
2. 选择「导出对话」
3. 选择格式
4. 下载文件

#### 删除对话

1. 在对话列表中找到目标对话
2. 点击「⋮」更多按钮
3. 选择「删除」
4. 确认删除

---

## 4. 知识库管理

### 4.1 文档上传

#### 支持的格式

- **PDF** - 文本型和扫描型（OCR）
- **Word** - .doc、.docx
- **文本** - .txt、.md
- **网页** - URL 链接
- **Excel** - .xlsx、.csv

#### 上传方式

**方式 1：拖拽上传**

1. 打开知识库页面
2. 拖拽文件到上传区域
3. 自动开始上传

**方式 2：点击上传**

1. 点击「上传文档」按钮
2. 选择文件
3. 确认上传

**方式 3：批量上传**

1. 选择多个文件
2. 一次性上传
3. 查看批量处理进度

#### 文档处理

上传后的处理流程：

1. **格式解析** - 提取文本内容
2. **文本清洗** - 去除无关内容
3. **文本分块** - 按段落分块（默认 500 字/块）
4. **向量化** - 转换为向量表示
5. **存储索引** - 存入向量数据库

**处理状态：**

- ⏳ 处理中 - 正在解析和向量化
- ✅ 已完成 - 可以使用
- ❌ 失败 - 查看错误信息重试

### 4.2 文档管理

#### 文档列表

显示所有上传的文档：

- 文档名称
- 文件类型图标
- 文件大小
- 上传时间
- 处理状态
- 关联角色数

#### 文档操作

**预览：**
- 查看文档基本信息
- 预览文本内容
- 查看分块情况

**编辑：**
- 修改文档名称
- 更新描述信息
- 调整分类标签

**关联角色：**
- 选择关联的角色
- 设置检索权重
- 配置使用权限

**删除：**
- 删除文档
- 同时删除向量索引
- 解除所有关联

### 4.3 检索配置

#### 检索模式

**相似度检索：**
- 基于语义相似度
- 适合概念性问题
- 默认推荐模式

**关键词检索：**
- 基于关键词匹配
- 适合精确查找
- 可结合使用

**混合检索：**
- 结合相似度和关键词
- 加权计算最终得分
- 最准确但稍慢

#### 高级配置

**Top-K 设置：**
- 控制返回的片段数量
- 默认值：5
- 范围：1-20

**相似度阈值：**
- 最低相似度要求
- 默认值：0.7
- 范围：0-1

**启用重排序：**
- 对初筛结果重新排序
- 提高准确性
- 增加少量延迟

---

## 5. API 平台

### 5.1 API 密钥管理

#### 创建密钥

1. 进入 API 平台页面
2. 点击「创建密钥」
3. 输入密钥名称
4. 选择权限范围
5. 设置过期时间（可选）
6. 点击创建
7. **立即复制密钥**（只显示一次）

#### 密钥权限

- **只读** - 只能查询数据
- **读写** - 可以创建和修改
- **管理** - 完整权限

#### 密钥管理

**查看密钥列表：**
- 密钥名称
- 创建时间
- 最后使用时间
- 调用次数
- 状态（启用/禁用）

**编辑密钥：**
- 修改名称
- 调整权限
- 更新过期时间

**禁用/启用：**
- 临时禁用密钥
- 随时重新启用

**删除密钥：**
- 永久删除
- 立即失效
- 不可恢复

### 5.2 API 使用

#### 基础信息

- **API 地址** - `https://api.rolecraft.ai/v1`
- **认证方式** - Bearer Token
- **请求格式** - JSON
- **响应格式** - JSON

#### 核心接口

**发送对话请求：**

```bash
curl -X POST https://api.rolecraft.ai/v1/chat \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "role_id": "role_123",
    "message": "你好，请帮我写一份营销方案",
    "mode": "task"
  }'
```

**获取角色列表：**

```bash
curl -X GET https://api.rolecraft.ai/v1/roles \
  -H "Authorization: Bearer YOUR_API_KEY"
```

**上传文档：**

```bash
curl -X POST https://api.rolecraft.ai/v1/documents \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -F "file=@document.pdf" \
  -F "name=产品手册"
```

### 5.3 用量统计

#### 统计维度

- **总调用次数** - 历史累计
- **今日调用** - 当天统计
- **本月调用** - 当月统计
- **按接口统计** - 各接口使用情况
- **按角色统计** - 各角色使用情况

#### 可视化图表

- 折线图 - 调用趋势
- 饼图 - 接口分布
- 柱状图 - 角色使用排行

#### 配额管理

- **当前配额** - 可用调用次数
- **已用配额** - 已消耗次数
- **剩余配额** - 剩余可用
- **重置时间** - 配额重置日期

---

## 6. 设置与配置

### 6.1 账户设置

#### 基本信息

- 修改昵称
- 更新头像
- 绑定邮箱
- 绑定手机

#### 安全设置

- 修改密码
- 启用双因素认证
- 查看登录历史
- 管理活跃会话

### 6.2 偏好设置

#### 界面设置

- **主题** - 浅色 / 深色 / 自动
- **语言** - 中文 / English
- **字体大小** - 小 / 中 / 大

#### 对话设置

- **默认模式** - 快速问答 / 任务模式
- **上下文长度** - 10 / 20 / 50 条
- **自动保存** - 启用 / 禁用
- **流式输出** - 启用 / 禁用

#### 通知设置

- **邮件通知** - 重要通知
- **使用报告** - 周报/月报
- **产品更新** - 新功能通知

### 6.3 空间管理

#### 创建空间

1. 点击「创建空间」
2. 输入空间名称
3. 选择空间类型（个人/团队）
4. 上传空间 Logo（可选）
5. 点击创建

#### 空间设置

- **基本信息** - 名称、描述、Logo
- **成员管理** - 邀请、权限、移除
- **资源配额** - 角色数、文档数、对话数
- **账单管理** - 订阅、发票、支付

#### 切换空间

- 点击顶部空间名称
- 选择目标空间
- 快速切换

---

## 📞 获取帮助

- 📖 查看 [快速开始指南](./quickstart.md)
- ❓ 浏览 [常见问题 FAQ](./faq.md)
- 💬 联系技术支持

---

*最后更新：2026-02-27*
