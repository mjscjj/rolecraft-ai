# 知识库管理使用指南

## 📚 目录

1. [快速入门](#快速入门)
2. [批量操作](#批量操作)
3. [智能分类](#智能分类)
4. [文件夹管理](#文件夹管理)
5. [文档预览](#文档预览)
6. [高级搜索](#高级搜索)
7. [最佳实践](#最佳实践)
8. [常见问题](#常见问题)

---

## 快速入门

### 访问知识库
1. 登录 RoleCraft AI 平台
2. 点击左侧导航栏的「知识库」
3. 进入知识库管理页面

### 上传第一个文档
1. 点击右上角的「上传文档」按钮
2. 选择要上传的文件 (支持 PDF、Word、TXT、MD 格式)
3. 等待上传和处理完成
4. 文档状态变为「已就绪」后即可使用

### 界面概览

```
┌─────────────────────────────────────────────────────┐
│  知识库                              [上传文档]      │
├─────────────────────────────────────────────────────┤
│  [统计卡片] 总文档 | 已就绪 | 处理中 | 失败          │
├─────────────────────────────────────────────────────┤
│  [搜索框] 🔍 搜索文档...                            │
│  [文件夹] [类型筛选] [排序] [视图切换]              │
├─────────────────────────────────────────────────────┤
│  ☑ 文档列表                                          │
│  ┌──────────────────────────────────────────────┐  │
│  │ ☐  📄 文档名称    类型   大小   标签   状态  │  │
│  │ ☐  📄 ...                                   │  │
│  └──────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────┘
```

---

## 批量操作

### 批量上传文档

**操作步骤**:
1. 点击「上传文档」按钮
2. 在文件选择对话框中，按住 `Ctrl` (Windows) 或 `Command` (Mac) 选择多个文件
3. 或者使用 `Shift` 键选择连续的文件
4. 点击「打开」开始批量上传

**支持格式**:
- PDF (.pdf)
- Word (.doc, .docx)
- 文本 (.txt)
- Markdown (.md)

**上传限制**:
- 单个文件最大 50MB
- 单次最多选择 100 个文件
- 支持的文件类型如上

**上传进度**:
- 上传过程中会显示进度条
- 绿色表示完成，蓝色表示处理中，红色表示失败
- 可以关闭页面，后台会继续处理

### 批量删除文档

**操作步骤**:
1. 勾选要删除的文档 (左侧复选框)
2. 点击顶部的「批量删除」按钮
3. 确认删除操作

**快捷键**:
- `Ctrl + A` (Windows) 或 `Command + A` (Mac) 全选
- `Shift + 点击` 连续选择多个文档

**注意事项**:
- 删除后无法恢复，请谨慎操作
- 会同时删除 AnythingLLM 中的文档和本地文件
- 批量删除 100 个文档约需 1-2 秒

### 批量移动文档

**操作步骤**:
1. 选择要移动的文档
2. 点击「批量移动」按钮
3. 选择目标文件夹
4. 确认移动

**使用场景**:
- 整理文档到不同项目文件夹
- 按类别归档文档
- 清理根目录

### 批量更新标签

**操作步骤**:
1. 选择要更新标签的文档
2. 点击「批量标签」按钮
3. 输入标签名称，按 `Enter` 添加
4. 点击「应用」保存

**标签建议**:
- 使用简洁的关键词 (2-4 个字)
- 建立统一的标签体系
- 避免过多标签 (建议 3-5 个)

---

## 智能分类

### 自动标签生成

系统会自动为上传的文档生成标签：

**基于文件名**:
- 包含「合同」→ 标签：合同
- 包含「报告」→ 标签：报告
- 包含「发票」→ 标签：财务
- 包含「技术」→ 标签：技术
- 包含「产品」→ 标签：产品

**基于文件类型**:
- PDF 文件 → 标签：PDF
- Word 文件 → 标签：Word

**自定义标签**:
1. 点击文档的「编辑」按钮
2. 在标签栏输入新标签
3. 按 `Enter` 添加
4. 点击「保存」

### 重复文档检测

系统会自动检测可能重复的文档：

**检测原理**:
- 计算文件名的相似度
- 相似度 > 85% 判定为可能重复
- 使用 Levenshtein 距离算法

**重复提示**:
- 重复文档会显示黄色警告标志
- 提示「可能重复」
- 建议检查并清理

**处理建议**:
1. 检查重复文档的内容
2. 保留最新版本
3. 删除旧版本或重复文件

### 文档相似度

**查看相似度**:
- 搜索时会显示相关度分数
- 按「相关度」排序查看最相关的文档

**优化建议**:
- 使用明确的文件名
- 添加描述性标签
- 定期整理文档

---

## 文件夹管理

### 创建文件夹

**操作步骤**:
1. 点击「文件夹」按钮
2. 点击「新建文件夹」
3. 输入文件夹名称
4. 按 `Enter` 或点击「创建」

**命名建议**:
- 使用清晰的项目名称
- 按日期或类别分类
- 避免特殊字符

### 文件夹树形结构

**查看文件夹**:
1. 点击「文件夹」按钮
2. 展开文件夹树
3. 点击文件夹查看内容

**层级结构**:
```
📁 全部文档
├─ 📁 项目 A
│  ├─ 📁 需求文档
│  └─ 📁 设计文档
├─ 📁 项目 B
└─ 📁 财务资料
```

### 移动文档到文件夹

**方法一：批量移动**
1. 选择文档
2. 点击「批量移动」
3. 选择目标文件夹

**方法二：拖拽移动** (开发中)
1. 选择文档
2. 拖拽到目标文件夹
3. 释放鼠标

### 删除文件夹

**操作步骤**:
1. 右键点击文件夹
2. 选择「删除」
3. 确认删除

**注意事项**:
- 删除文件夹不会删除文档
- 文档会移动到根目录
- 可以恢复文件夹结构

---

## 文档预览

### PDF 在线预览

**操作步骤**:
1. 找到要预览的 PDF 文档
2. 点击「预览」按钮 (眼睛图标)
3. 在弹窗中查看 PDF 内容

**功能支持**:
- 页面缩放
- 页面导航
- 文本搜索
- 打印

**性能优化**:
- 小文件 (< 5MB) 立即加载
- 大文件 (> 10MB) 逐步加载
- 支持断点续传

### Markdown 渲染预览

**操作步骤**:
1. 点击 MD 文件的「预览」按钮
2. 查看渲染后的 Markdown 内容

**渲染特性**:
- 标题、列表、表格
- 代码块高亮
- 图片显示
- 链接跳转

### 文本快速查看

**支持格式**:
- TXT (.txt)
- 代码文件 (.js, .py, .go 等)

**查看方式**:
1. 点击「预览」按钮
2. 查看文本内容
3. 支持复制文本

### 文档版本历史

**查看历史**:
1. 点击文档的「历史」按钮
2. 查看修改记录
3. 恢复到历史版本

**版本信息**:
- 修改时间
- 修改内容
- 操作者

---

## 高级搜索

### 多条件搜索

**搜索条件**:
- 关键词搜索
- 文件类型筛选
- 状态筛选
- 文件夹筛选
- 日期范围

**操作步骤**:
1. 在搜索框输入关键词
2. 点击筛选按钮
3. 选择筛选条件
4. 查看搜索结果

**搜索示例**:
```
关键词：合同
类型：PDF
状态：已就绪
文件夹：项目 A
日期：最近 30 天
```

### 搜索结果高亮

**高亮显示**:
- 搜索关键词在结果中高亮
- 黄色背景标记
- 快速定位关键词

**相关度排序**:
- 点击「相关度」排序
- 最相关的文档排在前面
- 基于向量相似度

### 搜索历史

**查看历史**:
- 自动保存最近 10 次搜索
- 点击搜索框查看历史
- 快速重用搜索条件

**清除历史**:
1. 点击搜索历史
2. 点击「清除全部」
3. 确认清除

### 搜索技巧

**精确搜索**:
- 使用引号搜索完整短语
- 例：`"项目合同"`

**排除搜索**:
- 使用减号排除关键词
- 例：`合同 -draft`

**通配符搜索**:
- 使用 `*` 匹配多个字符
- 例：`2024*报告`

---

## 最佳实践

### 文档组织

**推荐结构**:
```
📁 知识库
├─ 📁 按项目
│  ├─ 📁 项目 A
│  └─ 📁 项目 B
├─ 📁 按类型
│  ├─ 📁 合同
│  ├─ 📁 报告
│  └─ 📁 发票
└─ 📁 按部门
   ├─ 📁 技术部
   └─ 📁 财务部
```

### 标签体系

**建议标签**:
- 项目相关：`项目 A`、`项目 B`
- 文档类型：`合同`、`报告`、`方案`
- 重要程度：`重要`、`一般`、`参考`
- 时间相关：`2024`、`Q1`、`年度`

**标签管理**:
- 保持标签一致性
- 定期清理未使用标签
- 建立标签规范文档

### 定期维护

**每周**:
- 清理临时文档
- 整理根目录文档
- 检查处理失败的文档

**每月**:
- 删除重复文档
- 更新过时标签
- 归档旧项目文档

**每季度**:
- 审查文件夹结构
- 优化标签体系
- 清理无用文档

### 性能优化

**上传优化**:
- 批量上传代替单个上传
- 避免高峰时段上传大文件
- 压缩大文件后再上传

**搜索优化**:
- 使用具体关键词
- 添加筛选条件缩小范围
- 利用搜索历史

**存储优化**:
- 定期清理不需要的文档
- 归档旧文档到冷存储
- 使用文件夹分类管理

---

## 常见问题

### Q1: 上传失败怎么办？

**可能原因**:
- 文件格式不支持
- 文件超过 50MB
- 网络连接问题

**解决方案**:
1. 检查文件格式是否在支持列表中
2. 压缩文件或分割成多个文件
3. 检查网络连接后重试
4. 查看错误提示信息

### Q2: 文档一直处于「处理中」状态？

**可能原因**:
- AnythingLLM 服务异常
- 文件过大处理时间长
- 网络延迟

**解决方案**:
1. 等待 5-10 分钟
2. 刷新页面查看状态
3. 检查 AnythingLLM 服务状态
4. 联系管理员

### Q3: 如何找回误删的文档？

**解决方案**:
- 目前不支持回收站功能
- 建议定期备份重要文档
- 删除前仔细确认

### Q4: 搜索结果为空？

**可能原因**:
- 关键词不匹配
- 筛选条件过于严格
- 文档尚未处理完成

**解决方案**:
1. 尝试更宽泛的关键词
2. 清除筛选条件
3. 等待文档处理完成
4. 检查文档状态

### Q5: 预览失败？

**可能原因**:
- 文件损坏
- 格式不支持预览
- 文件已被删除

**解决方案**:
1. 尝试下载后本地查看
2. 检查文件完整性
3. 重新上传文档

### Q6: 如何导出文档列表？

**操作步骤**:
1. 使用筛选条件找到目标文档
2. 全选或选择需要的文档
3. 点击「导出」按钮 (开发中)
4. 选择导出格式 (Excel/CSV)

### Q7: 支持哪些文件格式？

**当前支持**:
- PDF (.pdf)
- Word (.doc, .docx)
- 文本 (.txt)
- Markdown (.md)

**计划支持**:
- Excel (.xlsx, .xls)
- PowerPoint (.pptx)
- 图片 (.jpg, .png)
- ZIP 压缩包

---

## 技术支持

**文档版本**: v1.0  
**更新日期**: 2026-02-27  
**适用版本**: RoleCraft AI v2.0+

**联系方式**:
- 邮箱：support@rolecraft.ai
- 文档：https://docs.rolecraft.ai
- 社区：https://community.rolecraft.ai

**反馈建议**:
欢迎通过以下方式反馈问题或提出建议：
1. 提交 Issue 到 GitHub
2. 发送邮件到技术支持
3. 在社区论坛发帖

---

**祝您使用愉快！** 🎉
